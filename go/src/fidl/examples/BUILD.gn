# Copyright 2018 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//garnet/public/lib/fidl/build/fidl/fidl.gni")
import("//build/dart/toolchain.gni")

template("fidl_example") {
  not_needed(invoker, "*")
  if (defined(invoker.skip_build) && invoker.skip_build) {
    group(target_name) {}
  } else {
    fidl(target_name) {
      sources = [
        "//zircon/system/host/fidl/examples/${target_name}.fidl2"
      ]
    }
  }
}

fidl_example("alignment") {}
fidl_example("enums") {}
fidl_example("example-0") {}
fidl_example("example-1") {}
fidl_example("example-2") {}
fidl_example("example-3") {}
fidl_example("example-4") {
  # TODO(TO-748): Build this example.
  skip_build = true
}
fidl_example("example-5") {}
fidl_example("example-6") {}
fidl_example("example-7") {}
fidl_example("example-8") {}
fidl_example("example-9") {}
fidl_example("interface-ordinals") {}
fidl_example("test") {}
fidl_example("types") {
  # TODO(TO-746): Build this example.
  skip_build = true
}

group("examples") {
  deps = [
    ":alignment",
    ":enums",
    ":example-0",
    ":example-1",
    ":example-2",
    ":example-3",
    ":example-4",
    ":example-5",
    ":example-6",
    ":example-7",
    ":example-8",
    ":example-9",
    ":interface-ordinals",
    ":test",
    ":types",

    # TODO(abarth): Move these dependencies into Topaz.
    # ":alignment($dart_toolchain)",
    # ":enums($dart_toolchain)",
    # ":example-0($dart_toolchain)",
    # ":example-1($dart_toolchain)",
    # ":example-2($dart_toolchain)",
    # ":example-3($dart_toolchain)",
    # ":example-4($dart_toolchain)",
    # ":example-5($dart_toolchain)",
    # ":example-6($dart_toolchain)",
    # ":example-7($dart_toolchain)",
    # ":example-8($dart_toolchain)",
    # ":example-9($dart_toolchain)",
    # ":interface-ordinals($dart_toolchain)",
    # ":test($dart_toolchain)",
    # ":types($dart_toolchain)",
  ]
}
